@using KeaPulss.Core.Services.Interfaces
@using Umbraco.Cms.Web.Common.PublishedModels;
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<ContentModels.NewsPage>
@using ContentModels = KeaPulss.Models;
@inject INewsService newsService;

@{
	Layout = "_Layout";

	var getAllNews = newsService.GetAll();
}

<h1>Tester</h1>
<section data-item="campaign-grid" class="group bg-silver-30">
    @if (getAllNews != null && getAllNews.Any())
    {
        <div class="grid grid-cols-12" data-type="default">
            <div class="col-span-full gap-30 h-full" data-type="item">
                <section class="container">
                    <div class="text-gray flex flex-col gap-32">
                        <div class="flex justify-between">
                            <h2>Relaterede nyheder</h2>
                        </div>
                        <ul class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 auto-rows-fr gap-x-40 gap-y-24">
                            @foreach (var news in getAllNews)
                            {
                                <li class="col-span-1" key="@news.Id">
                                    <h3>@news.Title</h3>
                                    <p>@news.Description</p>
                                    <div style="background-color: @news.Backgroundcolor;">
                                        <!-- Tilføj yderligere styling eller indhold efter behov -->
                                    </div>
                                    <div>
                                        @news.NewsPageContent <!-- Antager, at dette er en blok-grid; du skal muligvis løbe igennem dens elementer -->
                                    </div>
                                </li>
                            }
                        </ul>
                    </div>
                </section>
            </div>
        </div>
    }
    else
    {
        <p>Ingen relaterede nyheder tilgængelige.</p>
    }
</section>

